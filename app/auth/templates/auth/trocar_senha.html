{% extends "base.html" %}

{% block content %}
<div class="container mt-4" style="max-width: 520px;">

    <h3 class="mb-3">
        Alterar Senha
    </h3>

    <form method="POST" novalidate>
        {{ form.hidden_tag() }}

        <!-- ðŸ” CARD DE REGRAS DA SENHA -->
        <div class="alert alert-info small">
            <strong>Requisitos da senha</strong>
            <ul class="mb-0 mt-1">
                <li>MÃ­nimo de <strong>6 caracteres</strong></li>
                <li>Pelo menos <strong>1 letra maiÃºscula</strong> (Aâ€“Z)</li>
                <li>Pelo menos <strong>1 letra minÃºscula</strong> (aâ€“z)</li>
                <li>Pelo menos <strong>1 nÃºmero</strong> (0â€“9)</li>
                {# <li>1 sÃ­mbolo (!@#$...)</li> #}
            </ul>
        </div>

        <div class="mb-3">
            <label class="form-label">Senha Atual</label>
            {{ form.senha_atual(class="form-control") }}

            {% if form.senha_atual.errors %}
                <div class="text-danger small mt-1">
                    {% for erro in form.senha_atual.errors %}
                        â€¢ {{ erro }}<br>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label class="form-label">Nova Senha</label>
            {{ form.nova_senha(class="form-control") }}

            {% if form.nova_senha.errors %}
                <div class="text-danger small mt-1">
                    {% for erro in form.nova_senha.errors %}
                        â€¢ {{ erro }}<br>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="mb-3">
            <label class="form-label">Confirmar Nova Senha</label>
            {{ form.confirmar_senha(class="form-control") }}

            {% if form.confirmar_senha.errors %}
                <div class="text-danger small mt-1">
                    {% for erro in form.confirmar_senha.errors %}
                        â€¢ {{ erro }}<br>
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <div class="d-flex gap-2 mt-3">
            <button type="submit" class="btn btn-success">
                <i class="fas fa-save"></i> Salvar
            </button>

            <a href="{{ url_for('routes.home') }}"
               class="btn btn-outline-secondary">
                Cancelar
            </a>
        </div>

    </form>
</div>
{% endblock %}
